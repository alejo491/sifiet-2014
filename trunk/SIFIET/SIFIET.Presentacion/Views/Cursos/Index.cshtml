@using System.Web.UI.WebControls
@model IEnumerable<SIFIET.GestionProgramas.Datos.Modelo.CURSO>
@{

    ViewBag.Title = "Cursos";
    WebGrid grid = new WebGrid(Model);
}
<div>
    <h2>Cursos</h2>

    @using (Html.BeginForm())
    {
        <p>
            Campo: @Html.DropDownList("idCurso", ViewBag.campoBusqueda as SelectList) Palabra a Buscar: @Html.TextBox("nombreCurso")
            <input type="submit" value="Buscar" />
        </p>
    }

    @grid.GetHtml(
        fillEmptyRows: true,
        mode: WebGridPagerModes.All,
        columns: new[]
        {

            grid.Column("NOMBRECURSO",header:"Nombre"),
            grid.Column("NombreAsignatura",header:"Asignatura"),
            grid.Column("NombreDocente",header:"Docente"),
            grid.Column("ESTADOCURSO",header:"Estado"),
            grid.Column("",header:"Opciones",
                format: @<text>
                @if (Context.User.IsInRole("Cursos"))
                {
                @Html.ActionLink("Editar", "ModificarCurso", new { idCurso = item.IDENTIFICADORCURSO }) <text>|</text>
                }                                                                                                       
                @Html.ActionLink("Visualizar", "VisualizarCurso", new { idCurso= item.IDENTIFICADORCURSO }) 
                @if (Context.User.IsInRole("Administrador"))
                {
                <text>|</text>
                @Html.ActionLink("Eliminar", "EliminarCurso", new { idCurso = item.IDENTIFICADORCURSO }, new { onclick = "return confirmarEliminarCurso();" })
                }
                </text>
                )
        })
    <p>
        @Html.ActionLink("Agregar", "RegistrarCurso")
        @Html.ActionLink("Cargar desde Archivo", "CargarArchivo")
        <h3> @ViewBag.Resultado </h3>
    </p>
</div>



